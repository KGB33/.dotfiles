(defpoll channelUpdate :interval "60s" "rg -c $(curl -s https://api.github.com/repos/nixos/nixpkgs/branches/nixos-unstable | jq '.commit.sha') /etc/nixos/flake.lock")


(defwidget nixosChannel []
  (box :orientation "h" :space-evenly false :halign "center"
    (icon-module
      :visible {channelUpdate != 1}
      :class "channel-update"
      :icon "ïŒ“"
    )
  )
)
